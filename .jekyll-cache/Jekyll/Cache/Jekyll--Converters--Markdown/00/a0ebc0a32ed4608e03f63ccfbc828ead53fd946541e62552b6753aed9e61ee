I"œ<h3 id="ì›¹-í¬ë¡¤ë§-ì´ìŠˆ">ì›¹ í¬ë¡¤ë§ ì´ìŠˆ</h3>

<p><strong>ì €ì‘ê¶Œë²• í—ˆìš©</strong></p>

<ol>
  <li>ë‹¨ìˆœ ë§í¬</li>
  <li>ì§ì ‘ ë§í¬ : íŠ¹ì • ê²Œì‹œë¬¼ ë§í¬</li>
</ol>

<p><strong>ì €ì‘ê¶Œë²• ìœ„ë°˜</strong></p>

<ol>
  <li>í”„ë ˆì„ ë§í¬ - ì €ì‘ë¬¼ ì¼ë¶€ë¥¼ í™ˆí˜ì´ì§€ í‘œì‹œ</li>
  <li>ì„ë² ë“œ ë§í¬ - ì €ì‘ë¬¼ ì „ì²´ë¥¼ í™ˆí˜ì´ì§€ í‘œì‹œ</li>
</ol>

<p>í¬ë¡¤ë§ ë°ì´í„° ì„ì˜ì  ì‚¬ìš©ì€ ê´œì°®ì§€ë§Œ, ì–´ë”˜ê°€ì— ê²Œì‹œí•  ë•ŒëŠ” ì£¼ì˜í•˜ì—¬ì•¼ í•¨.</p>

<h3 id="ë¡œë´‡-ë°°ì œ-í‘œì¤€-robotstxt">ë¡œë´‡ ë°°ì œ í‘œì¤€ (robots.txt)</h3>

<p>í¬ë¡¤ë§ í—ˆìš© í™•ì¸ - ê²Œì‹œë¬¼ì— ëŒ€í•œ ê¶Œí•œì´ ëˆ„êµ¬ì—ê²Œ ìˆëŠ”ê°€?</p>

<p>ìœ ì €ì™€ ìš´ì˜ìì˜ ì´í•´ê´€ê³„ ì°¨ì´ ì¡´ì¬</p>

<p><br /></p>

<ol>
  <li>
    <p>ëª¨ë‘ í—ˆìš©<br />
User-agent:<br />
Allow:</p>
  </li>
  <li>
    <p>ëª¨ë‘ ì°¨ë‹¨<br />
User-agent:<br />
Disallow:</p>
  </li>
  <li>
    <p>ì¡°í•©  <br />
User-agent: googlebot    # googlebot ë¡œë´‡ë§Œ ì ìš©
Disallow: /private/     # ì´ ë””ë ‰í† ë¦¬ë¥¼ ì ‘ê·¼ ì°¨ë‹¨í•œë‹¤.
User-agent: googlebot-news  # googlebot-news ë¡œë´‡ë§Œ ì ìš©
Disallow: /         # ëª¨ë“  ë””ë ‰í† ë¦¬ë¥¼ ì ‘ê·¼ ì°¨ë‹¨í•œë‹¤.
User-agent: *        # ëª¨ë“  ë¡œë´‡ ì ìš©
Disallow: /something/    # ì´ ë””ë ‰í† ë¦¬ë¥¼ ì ‘ê·¼ ì°¨ë‹¨í•œë‹¤.ì¶œì²˜ : <a href="https://ko.wikipedia.org/wiki/ë¡œë´‡_ë°°ì œ_í‘œì¤€">ìœ„í‚¤/ë¡œë´‡ ë°°ì œ í‘œì¤€</a></p>
  </li>
</ol>

<h3 id="scrapy-êµ¬ì¡°">Scrapy êµ¬ì¡°</h3>

<p>/spiders - ì‹¤ì œ í¬ë¡¤ë§ ë¡œì§ì´ ë“¤ì–´ê°</p>

<p>items.py - í¬ë¡¤ë§ ëŒ€ìƒ ì €ì¥</p>

<p>pipelines.py - í¬ë¡¤ë§ ê²°ê³¼ë¥¼ DB ì‚½ì… í˜¹ì€ í•„í„°ë§ ê²°ì •</p>

<p>settings.py - ì „ì²´ í”„ë¡œì íŠ¸ ì„¤ì • : íŒŒì´í”„ë¼ì¸ ìˆœì„œ ê²°ì •, ë¡œê·¸ íŒŒì¼ ì§€ì • ë° ë ˆë²¨ ë³€ê²½ ë“±</p>

<p>scrapy.cfg - ì „ì²´ í”„ë¡œì íŠ¸ ë°°í¬ ì‹œ ì„¤ì •</p>

<h4 id="ë™ì‘">ë™ì‘</h4>

<ol>
  <li>items.py ì •ì˜</li>
  <li>/spiders ì•ˆì— ì‹œì‘ url ì§€ì • (start_requests - íŠ¹ì • urlì— ëŒ€í•œ callbackí•¨ìˆ˜ ì§€ì • ê°€ëŠ¥, start_urls - ìŠ¤íŠ¸ë§ ë¦¬ìŠ¤íŠ¸, ), ê° urlì— ëŒ€í•œ callback í•¨ìˆ˜ ì§€ì • (parse() - common)</li>
  <li>callback í•¨ìˆ˜ ì •ì˜<br />
selectorë¥¼ ì´ìš©í•´ ë°ì´í„° ì„ íƒ (xpath, css)</li>
  <li>Pipelineì„ í†µí•´ ë°ì´í„° í•„í„°ë§ í˜¹ì€ DBì— ì €ì¥</li>
</ol>

<h4 id="spiders">Spiders</h4>

<ul>
  <li>í¬ë¡¤ëŸ¬ ì´ë¦„ ì§€ì •
    <ul>
      <li>name</li>
    </ul>
  </li>
  <li>ìŠ¤íƒ€íŠ¸ url ì§€ì •
    <ul>
      <li>start_requests :
        <ul>
          <li>ì½œë°± í•¨ìˆ˜ ì§€ì • ê°€ëŠ¥</li>
          <li>ì‚¬ì´íŠ¸ ë¡œê·¸ì¸ ì‹œ ì‚¬ìš©</li>
        </ul>
      </li>
      <li>start_urls :
        <ul>
          <li>ì‹œì‘ ì£¼ì†Œë¥¼ ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ì¶”ê°€</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>parser ì •ì˜
    <ul>
      <li>def parser(self, response):</li>
    </ul>
  </li>
</ul>

<h4 id="selector">Selector</h4>

<p>html ë¬¸ì„œì— íŠ¹ì • ë…¸ë“œ ì„ íƒ</p>

<p><strong>css vs xpath</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; response.xpath('//title/text()')
&gt;&gt;&gt; response.css('title::text')

&gt;&gt;&gt; response.xpath('//base/@href').extract()
&gt;&gt;&gt; response.css('base::attr(href)')

&gt;&gt;&gt; response.xpath('//a[contains(@href, "image")]/@href')
&gt;&gt;&gt; response.css('a[href*=image]::attr(href)').extract()

&gt;&gt;&gt; response.xpath('//a[contains(@href. "image")]/img/@src').extract()
&gt;&gt;&gt; response.scc('a[href*=image] img::attr(src)').extract()
</code></pre></div></div>

<h4 id="pipeline">Pipeline</h4>

<p>ë°ì´í„° í¬ë¡¤ë§ ì´í›„ íŠ¹ì • í–‰ë™ ìˆ˜í–‰</p>

<ol>
  <li>ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬</li>
  <li>ì¤‘ë³µ ì²´í¬</li>
  <li>DB ì €ì¥</li>
  <li>í•„í„°ë§</li>
</ol>

<p><strong>settings.py</strong></p>

<ol>
  <li>
    <p>íŒŒì´í”„ í´ë˜ìŠ¤ ë° ìˆœì„œ ì§€ì •</p>

    <p>ITEM_PIPELINES = {</p>

    <p>â€˜project_name.pipelines.CommunityPiplineâ€™ : 200,</p>

    <p>} &gt; ìˆ«ìê°€ ë‚®ì„ ìˆ˜ë¡ ì„ ì‹¤í–‰</p>
  </li>
</ol>

<h4 id="logging">Logging</h4>

<ul>
  <li>
    <p>settings.py</p>

    <ul>
      <li>
        <p>LOG_FILE = â€˜logfile.logâ€™</p>
      </li>
      <li>
        <p>LOG_LEVEL = logging.DEBUG</p>

        <p>ì„¤ì •íŒŒì¼ì— íŒŒì¼ëª…ê³¼ ë¡œê·¸ë ˆë²¨ì„ í†µí•´ ì •ì˜ê°€ ê°€ëŠ¥</p>
      </li>
    </ul>
  </li>
  <li>
    <p>Log Level</p>

    <ol>
      <li>logging.CRITICAL - for critical errors (highest severity)</li>
      <li>logging.ERROR - for regular errors</li>
      <li>logging.WARNING - for warning messages</li>
      <li>logging.INFO - for informational messages</li>
      <li>logging.DEBUG - for debugging messages (lowest severity)</li>
    </ol>

    <blockquote>
      <p>LOG_LEVEL = logging.WARNING ì´ë¼ê³  ì„¤ì •í•˜ë©´ 1~3ê¹Œì§€ê°€ ì§€ì •ë¨</p>
    </blockquote>
  </li>
</ul>

:ET